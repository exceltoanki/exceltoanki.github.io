(self.webpackChunkexcel_to_anki=self.webpackChunkexcel_to_anki||[]).push([[4440],{4440:(o,n,t)=>{"use strict";t.r(n),t.d(n,{HoSoPageModule:()=>x});var e=t(8583),i=t(665),c=t(7823),s=t(649),a=t(4762),r=t(639),l=t(8194),h=t(3815);let d=(()=>{class o{transform(o,n){return o?n?(n=n.toLowerCase(),o.filter(function(o){return JSON.stringify({n:o.name,d:o.description}).toLowerCase().includes(n)})):o:null}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275pipe=r.Yjl({name:"searchFilter",type:o,pure:!0}),o})();function g(o,n){1&o&&r._UZ(0,"ion-spinner",18)}function u(o,n){1&o&&r._UZ(0,"ion-icon",19)}function p(o,n){if(1&o){const o=r.EpF();r.TgZ(0,"ion-button",20),r.NdJ("click",function(){r.CHM(o);const n=r.oxw().$implicit;return r.oxw().mogooglesheet(n)}),r._UZ(1,"ion-icon",21),r.TgZ(2,"span"),r._uU(3," Gg Sheet "),r.qZA(),r.qZA()}}function m(o,n){if(1&o){const o=r.EpF();r.TgZ(0,"ion-col",7),r.TgZ(1,"section"),r.TgZ(2,"ion-card",8),r.NdJ("click",function(n){const t=r.CHM(o).$implicit;return r.oxw().goToHoSoDetail(n.target,t)}),r.TgZ(3,"ion-card-header"),r.TgZ(4,"ion-card-title"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"ion-card-content"),r._uU(7),r.qZA(),r.TgZ(8,"section",9),r.TgZ(9,"ion-button",10),r.NdJ("click",function(){const n=r.CHM(o).$implicit;return r.oxw().chayTaoAnki(n)}),r.YNc(10,g,1,0,"ion-spinner",11),r.YNc(11,u,1,0,"ion-icon",12),r._uU(12," T\u1ea1o anki "),r.qZA(),r.TgZ(13,"ion-button",13),r.NdJ("click",function(){const n=r.CHM(o).$implicit;return r.oxw().copyHoso(n)}),r._UZ(14,"ion-icon",14),r.TgZ(15,"span"),r._uU(16," Sao ch\xe9p "),r.qZA(),r.qZA(),r.YNc(17,p,4,0,"ion-button",15),r.TgZ(18,"ion-button",16),r.NdJ("click",function(){const n=r.CHM(o).$implicit;return r.oxw().xoaHoSo(n)}),r._UZ(19,"ion-icon",17),r.TgZ(20,"span",3),r._uU(21,"X\xf3a"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&o){const o=n.$implicit,t=r.oxw();r.xp6(5),r.Oqu(o.name),r.xp6(2),r.hij(" ",o.description," "),r.xp6(2),r.Q6J("disabled",t.loadingtaoanki),r.xp6(1),r.Q6J("ngIf",t.loadingtaoanki),r.xp6(1),r.Q6J("ngIf",!t.loadingtaoanki),r.xp6(6),r.Q6J("ngIf",o.ggsheeteditlink)}}const Z=[{path:"",component:(()=>{class o{constructor(o,n,t,e,i){this.hosoService=o,this.router=n,this.getexcelService=t,this.toastController=e,this.alertController=i,this.searchquery="",this.danhsachhoso=[],this.loadingtaoanki=!1,this.danhsachhoso=this.hosoService.danhsachhoso,this.loadingtaoanki$=this.getexcelService.loadingtaoanki$.subscribe(o=>{this.loadingtaoanki=o})}presentToast(o,n="success"){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:o,duration:1e3,color:n})).present()})}ngOnInit(){}goToHoSoDetail(o,n){o.localName.startsWith("ion-card")&&this.router.navigate(["/ho-so-chi-tiet"],{state:{hoso:n},skipLocationChange:!0})}chayTaoAnki(o){this.getexcelService.getGoogleSheet(o)}copyHoso(o,n="Copy of "){return(0,a.mG)(this,void 0,void 0,function*(){let t=Object.assign({},o);t.name=n+t.name,t.id=null,t.createdAt=null,(yield this.hosoService.addNewHoSo(t))?this.presentToast("\u0110\xe3 sao ch\xe9p h\u1ed3 s\u01a1 th\xe0nh c\xf4ng."):this.presentToast(`\u0110\xe3 c\xf3 h\u1ed3 s\u01a1 copy c\u1ee7a h\u1ed3 s\u01a1 ${t.name} r\u1ed3i.`,"danger")})}mogooglesheet(o){window.open(o.ggsheeteditlink,"_blank")}xoaHoSo(o){return(0,a.mG)(this,void 0,void 0,function*(){const n=yield this.alertController.create({header:"X\xf3a h\u1ed3 s\u01a1",cssClass:"xoahoso",message:"B\u1ea1n th\u1eadt s\u1ef1 mu\u1ed1n x\xf3a h\u1ed3 s\u01a1 n\xe0y? <br/>\n      M\u1ed9t khi \u0111\xe3 x\xf3a s\u1ebd kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i.",buttons:[{text:"H\u1ee7y",role:"cancel"},{text:"X\xf3a",role:"delete",cssClass:"ion-color ion-color-danger"}]});yield n.present();const{role:t}=yield n.onDidDismiss();"delete"==t&&(this.hosoService.xoaHoSo(o),this.presentToast("X\xf3a h\u1ed3 s\u01a1 th\xe0nh c\xf4ng","success"))})}taohosomacdinh(){this.copyHoso(this.hosoService.hosomacdinh,"")}ionViewDidLeave(){this.loadingtaoanki$.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(r.Y36(l.y),r.Y36(s.F0),r.Y36(h.v),r.Y36(c.yF),r.Y36(c.Br))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-ho-so"]],decls:15,vars:6,consts:[["color","primary"],["slot","primary","color","secondary"],["shape","round",1,"taohoso",3,"click"],[1,"hide960"],["slot","end","name","add"],["placeholder","T\xecm ki\u1ebfm","end","","showCancelButton","focus",3,"debounce","ngModel","ngModelChange"],["size-md","6","size-xs","12",4,"ngFor","ngForOf"],["size-md","6","size-xs","12"],["button","",3,"click"],[1,"ion-padding-bottom","ion-padding-start"],["size","small",3,"disabled","click"],["name","crescent",4,"ngIf"],["slot","start","name","caret-forward-circle-outline",4,"ngIf"],["size","small","color","primary",3,"click"],["slot","start","name","duplicate-outline"],["size","small","color","success",3,"click",4,"ngIf"],["size","small","color","danger",3,"click"],["name","trash-outline","slot","start"],["name","crescent"],["slot","start","name","caret-forward-circle-outline"],["size","small","color","success",3,"click"],["slot","start","name","logo-google"]],template:function(o,n){1&o&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar",0),r.TgZ(2,"ion-title"),r._uU(3,"H\u1ed3 s\u01a1"),r.qZA(),r.TgZ(4,"ion-buttons",1),r.TgZ(5,"ion-button",2),r.NdJ("click",function(){return n.taohosomacdinh()}),r.TgZ(6,"span",3),r._uU(7,"T\u1ea1o h\u1ed3 s\u01a1 m\u1eb7c \u0111\u1ecbnh"),r.qZA(),r._UZ(8,"ion-icon",4),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"ion-searchbar",5),r.NdJ("ngModelChange",function(o){return n.searchquery=o}),r.qZA(),r.TgZ(10,"ion-content"),r.TgZ(11,"ion-grid"),r.TgZ(12,"ion-row"),r.YNc(13,m,22,6,"ion-col",6),r.ALo(14,"searchFilter"),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(9),r.Q6J("debounce",250)("ngModel",n.searchquery),r.xp6(4),r.Q6J("ngForOf",r.xi3(14,3,n.danhsachhoso,n.searchquery)))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.YG,c.gu,c.VI,c.j9,i.JJ,i.On,c.W2,c.jY,c.Nd,e.sg,c.wI,c.PM,c.Zi,c.gZ,c.FN,e.O5,c.PQ],pipes:[d],styles:[".hoai[_ngcontent-%COMP%]{color:#0e03a5}.hoai[_ngcontent-%COMP%]:focus, .hoai[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:red}.hoai[_ngcontent-%COMP%]:focus{--color:red}ion-col[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]:hover   ion-card[_ngcontent-%COMP%]{background-color:#e7ecff61}@media (max-width: 960px){ion-grid[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:x-small}ion-grid[_ngcontent-%COMP%]   .hide960[_ngcontent-%COMP%]{display:none}}@media (max-width: 400px){ion-grid[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:8px}ion-grid[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.xoahoso[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{max-width:60%!important;width:90%}@media (max-width: 600px){.taohoso[_ngcontent-%COMP%]   .hide960[_ngcontent-%COMP%]{display:none}}"]}),o})()}];let f=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[s.Bz.forChild(Z)],s.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({}),o})(),x=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[e.ez,i.u5,c.Pc,f,C]]}),o})()}}]);